<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>PDF Image Test</title>
    <style>
        body {
            background: #111;
            color: white;
        }

        img {
            display: block;
            margin: 20px auto;
            border: 1px solid white;
        }
    </style>
</head>
<body>
    <h2>Rendered PDF Pages as Images</h2>
    <div id="output"></div>

    <!-- PDF.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.13.216/pdf.min.js"></script>
    <script>
    const pdfjsLib = window['pdfjs-dist/build/pdf'];
    pdfjsLib.GlobalWorkerOptions.workerSrc =
      'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.13.216/pdf.worker.min.js';

    const pdfUrl = "Gowell_Catalog.pdf";

    async function renderPDF() {
      try {
        const pdf = await pdfjsLib.getDocument(pdfUrl).promise;
        console.log("✅ PDF loaded, total pages:", pdf.numPages);

        for (let i = 1; i <= pdf.numPages; i++) {
          const page = await pdf.getPage(i);
          const viewport = page.getViewport({ scale: 1 });
          const canvas = document.createElement("canvas");
          const ctx = canvas.getContext("2d");
          canvas.width = viewport.width;
          canvas.height = viewport.height;
          await page.render({ canvasContext: ctx, viewport }).promise;

          // Show image on page
          const img = document.createElement("img");
          img.src = canvas.toDataURL("image/png");
          document.getElementById("output").appendChild(img);
        }
      } catch (err) {
        console.error("❌ PDF error:", err);
        alert("⚠️ PDF Render Failed: " + err.message);
      }
    }

    renderPDF();
    </script>
</body>
</html>
